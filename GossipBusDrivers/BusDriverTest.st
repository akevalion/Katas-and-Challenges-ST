'From Pharo5.0 of 16 April 2015 [Latest update: #50761] on 21 October 2016 at 10:48:18.79646 pm'!TestCase subclass: #BusDriverTest	instanceVariableNames: ''	classVariableNames: ''	poolDictionaries: ''	category: 'GossipBusDriverkata-Test'!!BusDriverTest methodsFor: 'running' stamp: 'vitor 10/21/2016 10:10'!tearDown		BusStop resetAll.! !!BusDriverTest methodsFor: 'tests' stamp: 'vitor 10/21/2016 09:53'!testSendNGossips	| busDriver busStop expectedAnnouncements otherGossip actualAnnouncements |	otherGossip := BusDriverGossip of: nil.		actualAnnouncements := Set new.		busStop := 1 asBusStop.	busStop when: BusDriverGossip send: #value: to: [ :anAnnoucement | actualAnnouncements add: anAnnoucement ].	busDriver := BusDriver forRout: {busStop}.		expectedAnnouncements := busDriver gossipsKnow add: otherGossip; yourself.	busDriver listenGossip: otherGossip.		busDriver move; gossip.		self assert: actualAnnouncements isNotNil.	self assert: actualAnnouncements equals: expectedAnnouncements.! !!BusDriverTest methodsFor: 'tests' stamp: 'vitor 10/17/2016 09:23'!testMoveHavingOneStopRoute	| busDriver expectedBusStop |		expectedBusStop := 1 asBusStop.	busDriver := BusDriver forRout: {expectedBusStop}.	busDriver move; move.	self assert: busDriver currentBusStop equals: expectedBusStop.! !!BusDriverTest methodsFor: 'tests' stamp: 'vitor 10/19/2016 11:07'!testMoveHavingThreeStopRoute	| busDriver asasasas |		asasasas := {1 asBusStop. 2 asBusStop. 3 asBusStop.}.	busDriver := BusDriver forRout: asasasas.	busDriver move.	self assert: busDriver currentBusStop equals: 1 asBusStop .	busDriver move.	self assert: busDriver currentBusStop equals: 2 asBusStop .	busDriver move.	self assert: busDriver currentBusStop equals: 3 asBusStop .	busDriver move.	self assert: busDriver currentBusStop equals: 1 asBusStop .! !!BusDriverTest methodsFor: 'tests' stamp: 'vitor 10/21/2016 09:42'!testSendOneGossip	| busDriver busStop expectedAnnouncement |		busStop := 1 asBusStop.		busStop when: BusDriverGossip send: #value: to: [:anAnnoucement | expectedAnnouncement := anAnnoucement].	busDriver := BusDriver forRout: {busStop}.	busDriver move;	gossip.	self assert: expectedAnnouncement isNotNil.	self assert: expectedAnnouncement busDriver equals: busDriver! !!BusDriverTest methodsFor: 'tests' stamp: 'vitor 10/19/2016 08:43'!testMoveHavingZeroStopRoute	self should: [BusDriver forRout: {}. ]  raise: Error  description: 'Nowhere to go!!' 	! !!BusDriverTest methodsFor: 'tests' stamp: 'vitor 10/21/2016 10:06'!testReceiveGossip	| busDriver busDriver2 expectedGossipsKnown |		busDriver := BusDriver forRout: {1 asBusStop}.	busDriver2 := BusDriver forRout: {1 asBusStop}.	expectedGossipsKnown := (busDriver gossipsKnow | busDriver2 gossipsKnow) asSet.		busDriver move.	busDriver2 move.	busDriver gossip.	busDriver2 gossip.		self assert: busDriver gossipsKnow asSet equals: expectedGossipsKnown.	self assert: busDriver2 gossipsKnow asSet equals: expectedGossipsKnown.! !